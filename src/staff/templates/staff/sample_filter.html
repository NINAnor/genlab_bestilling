{% extends "staff/base_filter.html" %}
{% load crispy_forms_tags static %}
{% load render_table from django_tables2 %}

{% block page-title %}
{% if order %}{{ order }} - Samples{% else %}Samples{% endif %}
{% endblock page-title %}

{% block page-inner %}

{% if order %}
<div class="flex gap-5 mb-5">
    <a class="btn bg-primary" href="../"><i class="fas fa-arrow-left"></i> back</a>
    <a class="btn bg-yellow-500" href="{% url 'samples-csv' %}?order={{ order.pk }}"><i class="fas fa-download"></i> Download CSV</a>
</div>

 <form method="post" action="{% url 'staff:generate-genlab-ids' pk=order.pk %}">
    {% csrf_token %}
    <input type="hidden" name="sort" value="{{ request.GET.sort|default:'' }}">
    <button class="btn bg-blue-500 text-white mt-4" type="submit" name="generate_genlab_ids">
        <i class="fa-solid fa-id-badge"></i> Generate genlab IDs
    </button>

    {% render_table table %}
  </form>

{% endif %}
{% endblock page-inner %}
